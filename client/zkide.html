<!DOCTYPE html>
<html>    
    <head>
        <link rel="stylesheet" type="text/css" href="zkide.css" />
        <link rel="stylesheet" type="text/css" href="lib/codemirror/codemirror.css" />
        <script src="lib/codemirror/codemirror_patched.js"></script>
        <script src="lib/codemirror/foldcode.js"></script>
        <script src='lib/codemirror/mode/javascript.js'></script>
        <script src='lib/codemirror/mode/css.js'></script>
        <script src='lib/codemirror/mode/xml.js'></script>
        <script src='lib/codemirror/mode/htmlmixed.js'></script>
        <script src="lib/underscore.js"></script>
        <script src="lib/zepto.js"></script>
        <script src="lib/backbone.js"></script>
        <script src="lib/apart.js"></script>
        <script>
            function start() {
                Apart.require(['zkeditor/ZKEditorKeyBindings', 'ZKIDE'], function (keyBindings, ZKIDE) {
                    ZKIDE.start(window);
                });

                Apart.require(['model/model', 'zkfilebrowser/FBView'], function (model, view) {
                    var rootDir = new model.ZKDirectory();
                    rootDir.fetchEntries({
                        success: function() {
                            window.fileBrowserView = new view.FBFileBrowserView({rootDir: rootDir});
                        }
                    });
                });
            }
        </script>
        <title>ZKIDE</title>
    </head>
    
    <body onload="start()">
        <div id="fileBrowser">
            <script type="text/html" id="template-FBDirectoryEntryView">
                <div class="directoryEntryView">
                    <a href="<%= url %>" class="unselectable"><%= name %></a>
                    <img src="resources/chevron-small-expand.png" width="16" height="16" alt="expand menu" />
                </div>
            </script>
        </div>
    </body>

</html>
